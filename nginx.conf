
#user  nobody;
worker_processes  5;  ## Default: 1
worker_rlimit_nofile 8192;

events {
  worker_connections  4096;  ## Default: 1024
}

http {
    include       mime.types;
    include       /etc/nginx/proxy.conf;

    default_type application/octet-stream;
    sendfile     on;
    tcp_nopush   on;
    server_names_hash_bucket_size 128; # this seems to be required for some vhosts


    #keepalive_timeout  0;
    keepalive_timeout  65;

    gzip  on;

    ssl_protocols TLSv1.2 TLSv1.3; # Dropping SSLv3, ref: POODLE
    ssl_prefer_server_ciphers on;
    ssl_session_cache    shared:SSL:1m;
    ssl_session_timeout  5m;
    ssl_ciphers  HIGH:!aNULL:!MD5;

    # default site
    server {
        listen 80 default_server;
        listen [::]:80 default_server;
        listen 443 ssl default_server;
        listen [::443] ssl default_server;

        ssl_certificate      /etc/ssl/certificate.pem;
        ssl_certificate_key  /etc/ssl/key.pem;

        server_name _;
        return 404;
    }

    # lextudio.com
    server {
        listen 80;
        listen [::]:80;
        listen 443 ssl;
        listen [::]:443 ssl;

        ssl_certificate      /etc/ssl/certificate.pem;
        ssl_certificate_key  /etc/ssl/key.pem;

        server_name lextudio.com;
        return 301 https://www.lextudio.com$request_uri;
    }

    server {
        listen 80;
        listen [::]:80;
        listen 443 ssl;
        listen [::]:443 ssl;

        ssl_certificate      /etc/ssl/certificate.pem;
        ssl_certificate_key  /etc/ssl/key.pem;

        server_name www.lextudio.com;

        location / {
            proxy_ssl_server_name on;
            proxy_pass            https://lextudio.mystrikingly.com/;
            proxy_set_header      Host "lextudio.mystrikingly.com";
        }

        location /ads.txt {
            return 200 'google.com, pub-8730896881590248, DIRECT, f08c47fec0942fa0';
            add_header Content-Type text/html;
        }

        location /.well-known/apple-developer-merchantid-domain-association {
            return 200 '7B227073704964223A2239373943394538343346343131343044463144313834343232393232313734313034353044314339464446394437384337313531303944334643463542433731222C2276657273696F6E223A312C22637265617465644F6E223A313536363233343735303036312C227369676E6174757265223A22333038303036303932613836343838366637306430313037303261303830333038303032303130313331306633303064303630393630383634383031363530333034303230313035303033303830303630393261383634383836663730643031303730313030303061303830333038323033653333303832303338386130303330323031303230323038346333303431343935313964353433363330306130363038326138363438636533643034303330323330376133313265333032633036303335353034303330633235343137303730366336353230343137303730366336393633363137343639366636653230343936653734363536373732363137343639366636653230343334313230326432303437333333313236333032343036303335353034306230633164343137303730366336353230343336353732373436393636363936333631373436393666366532303431373537343638366637323639373437393331313333303131303630333535303430613063306134313730373036633635323034393665363332653331306233303039303630333535303430363133303235353533333031653137306433313339333033353331333833303331333333323335333735613137306433323334333033353331333633303331333333323335333735613330356633313235333032333036303335353034303330633163363536333633326437333664373032643632373236663662363537323264373336393637366535663535343333343264353035323466343433313134333031323036303335353034306230633062363934663533323035333739373337343635366437333331313333303131303630333535303430613063306134313730373036633635323034393665363332653331306233303039303630333535303430363133303235353533333035393330313330363037326138363438636533643032303130363038326138363438636533643033303130373033343230303034633231353737656465626436633762323231386636386464373039306131323138646337623062643666326332383364383436303935643934616634613534313162383334323065643831316633343037653833333331663163353463336637656233323230643662616435643465666634393238393839336537633066313361333832303231313330383230323064333030633036303335353164313330313031666630343032333030303330316630363033353531643233303431383330313638303134323366323439633434663933653465663237653663346636323836633366613262626664326534623330343530363038326230363031303530353037303130313034333933303337333033353036303832623036303130353035303733303031383632393638373437343730336132663266366636333733373032653631373037303663363532653633366636643266366636333733373033303334326436313730373036633635363136393633363133333330333233303832303131643036303335353164323030343832303131343330383230313130333038323031306330363039326138363438383666373633363430353031333038316665333038316333303630383262303630313035303530373032303233303831623630633831623335323635366336393631366536333635323036663665323037343638363937333230363336353732373436393636363936333631373436353230363237393230363136653739323037303631373237343739323036313733373337353664363537333230363136333633363537303734363136653633363532303666363632303734363836353230373436383635366532303631373037303663363936333631363236633635323037333734363136653634363137323634323037343635373236643733323036313665363432303633366636653634363937343639366636653733323036663636323037353733363532633230363336353732373436393636363936333631373436353230373036663663363936333739323036313665363432303633363537323734363936363639363336313734363936663665323037303732363136333734363936333635323037333734363137343635366436353665373437333265333033363036303832623036303130353035303730323031313632613638373437343730336132663266373737373737326536313730373036633635326536333666366432663633363537323734363936363639363336313734363536313735373436383666373236393734373932663330333430363033353531643166303432643330326233303239613032376130323538363233363837343734373033613266326636333732366332653631373037303663363532653633366636643266363137303730366336353631363936333631333332653633373236633330316430363033353531643065303431363034313439343537646236666435373438313836383938393736326637653537383530376537396235383234333030653036303335353164306630313031666630343034303330323037383033303066303630393261383634383836663736333634303631643034303230353030333030613036303832613836343863653364303430333032303334393030333034363032323130306265303935373166653731653165373335623535653561666163623463373266656234343566333031383532323263373235313030326236316562643666353530323231303064313862333530613564643664643665623137343630333562313165623263653837636661336536616636636264383338303839306463383263646461613633333038323032656533303832303237356130303330323031303230323038343936643266626633613938646139373330306130363038326138363438636533643034303330323330363733313162333031393036303335353034303330633132343137303730366336353230353236663666373432303433343132303264323034373333333132363330323430363033353530343062306331643431373037303663363532303433363537323734363936363639363336313734363936663665323034313735373436383666373236393734373933313133333031313036303335353034306130633061343137303730366336353230343936653633326533313062333030393036303335353034303631333032353535333330316531373064333133343330333533303336333233333334333633333330356131373064333233393330333533303336333233333334333633333330356133303761333132653330326330363033353530343033306332353431373037303663363532303431373037303663363936333631373436393666366532303439366537343635363737323631373436393666366532303433343132303264323034373333333132363330323430363033353530343062306331643431373037303663363532303433363537323734363936363639363336313734363936663665323034313735373436383666373236393734373933313133333031313036303335353034306130633061343137303730366336353230343936653633326533313062333030393036303335353034303631333032353535333330353933303133303630373261383634386365336430323031303630383261383634386365336430333031303730333432303030346630313731313834313964373634383564353161356532353831303737366538383061326566646537626165346465303864666334623933653133333536643536363562333561653232643039373736306432323465376262613038666437363137636538386362373662623636373062656338653832393834666635343435613338316637333038316634333034363036303832623036303130353035303730313031303433613330333833303336303630383262303630313035303530373330303138363261363837343734373033613266326636663633373337303265363137303730366336353265363336663664326636663633373337303330333432643631373037303663363537323666366637343633363136373333333031643036303335353164306530343136303431343233663234396334346639336534656632376536633466363238366333666132626266643265346233303066303630333535316431333031303166663034303533303033303130316666333031663036303335353164323330343138333031363830313462626230646561313538333338383961613438613939646562656264656261666461636232346162333033373036303335353164316630343330333032653330326361303261613032383836323636383734373437303361326632663633373236633265363137303730366336353265363336663664326636313730373036633635373236663666373436333631363733333265363337323663333030653036303335353164306630313031666630343034303330323031303633303130303630613261383634383836663736333634303630323065303430323035303033303061303630383261383634386365336430343033303230333637303033303634303233303361636637323833353131363939623138366662333563333536636136326266663431376564643930663735346461323865626566313963383135653432623738396638393866373962353939663938643534313064386639646539633266653032333033323264643534343231623061333035373736633564663333383362393036376664313737633263323136643936346663363732363938323132366635346638376137643162393963623962303938393231363130363939306630393932316430303030333138323031386233303832303138373032303130313330383138363330376133313265333032633036303335353034303330633235343137303730366336353230343137303730366336393633363137343639366636653230343936653734363536373732363137343639366636653230343334313230326432303437333333313236333032343036303335353034306230633164343137303730366336353230343336353732373436393636363936333631373436393666366532303431373537343638366637323639373437393331313333303131303630333535303430613063306134313730373036633635323034393665363332653331306233303039303630333535303430363133303235353533303230383463333034313439353139643534333633303064303630393630383634383031363530333034303230313035303061303831393533303138303630393261383634383836663730643031303930333331306230363039326138363438383666373064303130373031333031633036303932613836343838366637306430313039303533313066313730643331333933303338333133393331333733313332333333303561333032613036303932613836343838366637306430313039333433313164333031623330306430363039363038363438303136353033303430323031303530306131306130363038326138363438636533643034303330323330326630363039326138363438383666373064303130393034333132323034323062303731303365313430613462386231376262613230316130336163643036396234653431366232613263383066383661383338313435633239373566633131333030613036303832613836343863653364303430333032303434363330343430323230343639306264636637626461663833636466343934396534633035313039656463663334373665303564373261313264376335666538633033303033343464663032323032363764353863393365626233353031333836363062353730373938613064643731313734316262353864626436613138363633353038353431656565393035303030303030303030303030227D'
            add_header Content-Type text/html;
        }
    }

    # docs.lextudio.com
    server {
        listen 80;
        listen [::]:80;
        listen 443 ssl;
        listen [::]:443 ssl;

        ssl_certificate      /etc/ssl/certificate.pem;
        ssl_certificate_key  /etc/ssl/key.pem;

        server_name docs.lextudio.com;

        rewrite ^(/.*/)index\.html(\?.*)?$ $1$2 permanent; # Cloudflare generates bad 308 to remove /index, so proactively remove index.html ahead.
        rewrite ^(/.*)\.html(\?.*)?$ $1$2 permanent; # Cloudflare generates bad 308 to remove .html, so proactively remove .html ahead.

        location /obfuscar/ {
            proxy_ssl_server_name on;
            proxy_pass            https://docs-bwx.pages.dev/;
            proxy_set_header      Host "docs-bwx.pages.dev";
        }

        location /jexusmanager/ {
            proxy_ssl_server_name on;
            proxy_pass            https://gentle-mud-04df9df0f.1.azurestaticapps.net/;
            proxy_set_header      Host "gentle-mud-04df9df0f.1.azurestaticapps.net";
        }

        location /phpmanager/ {
            proxy_ssl_server_name on;
            proxy_pass            https://phpmanager.pages.dev/;
            proxy_set_header      Host "phpmanager.pages.dev";
        }

        location /restructuredtext/ {
            proxy_ssl_server_name on;
            proxy_pass            https://restructuredtext-docs.pages.dev/;
            proxy_set_header      Host "restructuredtext-docs.pages.dev";
        }

        location /sharpsnmplib/ {
            proxy_ssl_server_name on;
            proxy_pass            https://witty-sand-0964baf0f.1.azurestaticapps.net/;
            proxy_set_header      Host "witty-sand-0964baf0f.1.azurestaticapps.net";
        }

        location /sharpsnmppro/ {
            proxy_ssl_server_name on;
            proxy_pass            https://kind-rock-04c0df10f.1.azurestaticapps.net/;
            proxy_set_header      Host "kind-rock-04c0df10f.1.azurestaticapps.net";
        }

        location /blog/ {
            proxy_ssl_server_name on;
            proxy_pass            https://jekyll-theme-chirpy-ams.pages.dev/;
            proxy_set_header      Host "jekyll-theme-chirpy-ams.pages.dev";
        }

        location /pysmi/ {
            proxy_ssl_server_name on;
            proxy_pass            https://pysmi.pages.dev/;
            proxy_set_header      Host "pysmi.pages.dev";
        }

        location /pysnmp/ {
            proxy_ssl_server_name on;
            proxy_pass            https://pysnmp.pages.dev/;
            proxy_set_header      Host "pysnmp.pages.dev";
        }

        location /snmpclitools/ {
            proxy_ssl_server_name on;
            proxy_pass            https://snmpclitools.pages.dev/;
            proxy_set_header      Host "snmpclitools.pages.dev";
        }

        location /snmpfwd/ {
            proxy_ssl_server_name on;
            proxy_pass            https://snmpfwd.pages.dev/;
            proxy_set_header      Host "snmpfwd.pages.dev";
        }

        location /snmpresponder/ {
            proxy_ssl_server_name on;
            proxy_pass            https://snmpresponder.pages.dev/;
            proxy_set_header      Host "snmpresponder.pages.dev";
        }

        location /snmpsim/ {
            proxy_ssl_server_name on;
            proxy_pass            https://snmpsim.pages.dev/;
            proxy_set_header      Host "snmpsim.pages.dev";
        }

        location /snmpsim-control-plane/ {
            proxy_ssl_server_name on;
            proxy_pass            https://snmpsim-control-plane.pages.dev/;
            proxy_set_header      Host "snmpsim-control-plane.pages.dev";
        }

        location /snmpsim-data/ {
            proxy_ssl_server_name on;
            proxy_pass            https://snmpsim-data.pages.dev/;
            proxy_set_header      Host "snmpsim-data.pages.dev";
        }

        location / {
            proxy_ssl_server_name on;
            proxy_pass            https://support-9s5.pages.dev/;
            proxy_set_header      Host "support-9s5.pages.dev";
        }

        location /ads.txt {
            return 200 'google.com, pub-8730896881590248, DIRECT, f08c47fec0942fa0';
            add_header Content-Type text/html;
        }
    }

    # support.lextudio.com
    server {
        listen 80;
        listen [::]:80;
        listen 443 ssl;
        listen [::]:443 ssl;

        ssl_certificate      /etc/ssl/certificate.pem;
        ssl_certificate_key  /etc/ssl/key.pem;

        server_name support.lextudio.com;
        return 301 https://docs.lextudio.com$request_uri;
    }

    # halfblood.pro
    server {
        listen 80;
        listen [::]:80;
        listen 443 ssl;
        listen [::]:443 ssl;

        ssl_certificate      /etc/ssl/certificate.pem;
        ssl_certificate_key  /etc/ssl/key.pem;

        server_name halfblood.pro;
        return 301 https://docs.lextudio.com/blog$request_uri;
    }

    server {
        listen 80;
        listen [::]:80;
        listen 443 ssl;
        listen [::]:443 ssl;

        ssl_certificate      /etc/ssl/certificate.pem;
        ssl_certificate_key  /etc/ssl/key.pem;

        server_name www.halfblood.pro;
        return 301 https://docs.lextudio.com/blog$request_uri;
    }

    # mcast.rebornix.com
    server {
        listen 80;
        listen [::]:80;
        listen 443 ssl;
        listen [::]:443 ssl;

        ssl_certificate      /etc/ssl/certificate.pem;
        ssl_certificate_key  /etc/ssl/key.pem;

        server_name mcast.rebornix.com;

        location / {
            proxy_ssl_server_name on;
            proxy_pass            https://site-69584-27-7229.mystrikingly.com/;
            proxy_set_header      Host "site-69584-27-7229.mystrikingly.com";
        }
    }

    # sparktseung.com
    server {
        listen 80;
        listen [::]:80;
        listen 443 ssl;
        listen [::]:443 ssl;

        ssl_certificate      /etc/ssl/certificate.pem;
        ssl_certificate_key  /etc/ssl/key.pem;

        server_name sparktseung.com;
        return 301 https://www.sparktseung.com$request_uri;
    }

    server {
        listen 80;
        listen [::]:80;
        listen 443 ssl;
        listen [::]:443 ssl;

        ssl_certificate      /etc/ssl/certificate.pem;
        ssl_certificate_key  /etc/ssl/key.pem;

        server_name www.sparktseung.com;

        location / {
            proxy_ssl_server_name on;
            proxy_pass            https://2nskq3f4kdfacisheqy0.crd.co/;
            proxy_set_header      Host "2nskq3f4kdfacisheqy0.crd.co";
        }
    }

    # blog.sparktseung.com
    server {
        listen 80;
        listen [::]:80;
        listen 443 ssl;
        listen [::]:443 ssl;

        ssl_certificate      /etc/ssl/certificate.pem;
        ssl_certificate_key  /etc/ssl/key.pem;

        server_name blog.sparktseung.com;

        location / {
            proxy_ssl_server_name on;
            proxy_pass            https://sparktseung.wordpress.com/;
            proxy_set_header      Host "sparktseung.wordpress.com";
        }
    }

    # zixuanzhao.com
    server {
        listen 80;
        listen [::]:80;
        listen 443 ssl;
        listen [::]:443 ssl;

        ssl_certificate      /etc/ssl/certificate.pem;
        ssl_certificate_key  /etc/ssl/key.pem;

        server_name zixuanzhao.com;
        return 301 https://www.zixuanzhao.com$request_uri;
    }

    server {
        listen 80;
        listen [::]:80;
        listen 443 ssl;
        listen [::]:443 ssl;

        ssl_certificate      /etc/ssl/certificate.pem;
        ssl_certificate_key  /etc/ssl/key.pem;

        server_name www.zixuanzhao.com;

        location / {
            proxy_ssl_server_name on;
            proxy_pass            https://zixuanzhao.mystrikingly.com/;
            proxy_set_header      Host "zixuanzhao.mystrikingly.com";
        }
    }

    # linpeiman.com
    server {
        listen 80;
        listen [::]:80;
        listen 443 ssl;
        listen [::]:443 ssl;

        ssl_certificate      /etc/ssl/certificate.pem;
        ssl_certificate_key  /etc/ssl/key.pem;

        server_name linpeiman.com;
        return 301 https://www.linpeiman.com$request_uri;
    }

    server {
        listen 80;
        listen [::]:80;
        listen 443 ssl;
        listen [::]:443 ssl;

        ssl_certificate      /etc/ssl/certificate.pem;
        ssl_certificate_key  /etc/ssl/key.pem;

        server_name www.linpeiman.com;

        location / {
            proxy_ssl_server_name on;
            proxy_pass            https://linpeiman.mysxl.cn/;
            proxy_set_header      Host "linpeiman.mysxl.cn";
        }
    }

    # highscore.ai
    server {
        listen 80;
        listen [::]:80;
        listen 443 ssl;
        listen [::]:443 ssl;

        ssl_certificate      /etc/ssl/certificate.pem;
        ssl_certificate_key  /etc/ssl/key.pem;

        server_name highscore.ai;
        return 301 https://www.highscore.ai$request_uri;
    }

    server {
        listen 80;
        listen [::]:80;
        listen 443 ssl;
        listen [::]:443 ssl;

        ssl_certificate      /etc/ssl/certificate.pem;
        ssl_certificate_key  /etc/ssl/key.pem;

        server_name www.highscore.ai;

        location / {
            proxy_ssl_server_name on;
            proxy_pass            https://site-2972930-2409-1883.mystrikingly.com/;
            proxy_set_header      Host "site-2972930-2409-1883.mystrikingly.com";
        }
    }

    # waiu.ca
    server {
        listen 80;
        listen [::]:80;
        listen 443 ssl;
        listen [::]:443 ssl;

        ssl_certificate      /etc/ssl/certificate.pem;
        ssl_certificate_key  /etc/ssl/key.pem;

        server_name waiu.ca;
        return 301 https://www.waiu.ca$request_uri;
    }

    server {
        listen 80;
        listen [::]:80;
        listen 443 ssl;
        listen [::]:443 ssl;

        ssl_certificate      /etc/ssl/certificate.pem;
        ssl_certificate_key  /etc/ssl/key.pem;

        server_name www.waiu.ca;

        location / {
            proxy_ssl_server_name on;
            proxy_pass            https://waiu.mystrikingly.com/;
            proxy_set_header      Host "waiu.mystrikingly.com";
        }
    }

    # sharpsnmp.com
    server {
        listen 80;
        listen [::]:80;
        listen 443 ssl;
        listen [::]:443 ssl;

        ssl_certificate      /etc/ssl/certificate.pem;
        ssl_certificate_key  /etc/ssl/key.pem;

        server_name sharpsnmp.com;
        return 301 https://www.sharpsnmp.com$request_uri;
    }

    server {
        listen 80;
        listen [::]:80;
        listen 443 ssl;
        listen [::]:443 ssl;

        ssl_certificate      /etc/ssl/certificate.pem;
        ssl_certificate_key  /etc/ssl/key.pem;

        server_name www.sharpsnmp.com;

        location / {
            proxy_ssl_server_name on;
            proxy_pass            https://sharpsnmp.mystrikingly.com/;
            proxy_set_header      Host "sharpsnmp.mystrikingly.com";
        }
    }

    # docs.sharpsnmp.com
    server {
        listen 80;
        listen [::]:80;
        listen 443 ssl;
        listen [::]:443 ssl;

        ssl_certificate      /etc/ssl/certificate.pem;
        ssl_certificate_key  /etc/ssl/key.pem;

        server_name docs.sharpsnmp.com;
        return 301 https://docs.lextudio.com/sharpsnmplib$request_uri;
    }

    # pro.sharpsnmp.com
    server {
        listen 80;
        listen [::]:80;
        listen 443 ssl;
        listen [::]:443 ssl;

        ssl_certificate      /etc/ssl/certificate.pem;
        ssl_certificate_key  /etc/ssl/key.pem;

        server_name pro.sharpsnmp.com;
        return 301 https://docs.lextudio.com/sharpsnmppro$request_uri;
    }

    # jexusmanager.com
    server {
        listen 80;
        listen [::]:80;
        listen 443 ssl;
        listen [::]:443 ssl;

        ssl_certificate      /etc/ssl/certificate.pem;
        ssl_certificate_key  /etc/ssl/key.pem;

        server_name jexusmanager.com;
        return 301 https://www.jexusmanager.com$request_uri;
    }

    server {
        listen 80;
        listen [::]:80;
        listen 443 ssl;
        listen [::]:443 ssl;

        ssl_certificate      /etc/ssl/certificate.pem;
        ssl_certificate_key  /etc/ssl/key.pem;

        server_name www.jexusmanager.com;

        location /en/latest {
            return 301 https://docs.jexusmanager.com;
        }

        location ~ /en/latest/(?<doc>.*) {
            return 301 https://docs.jexusmanager.com/$doc;
        }

        location / {
            proxy_ssl_server_name on;
            proxy_pass            https://jexusmanager.mystrikingly.com/;
            proxy_set_header      Host "jexusmanager.mystrikingly.com";
        }
    }

    # docs.jexusmanager.com
    server {
        listen 80;
        listen [::]:80;
        listen 443 ssl;
        listen [::]:443 ssl;

        ssl_certificate      /etc/ssl/certificate.pem;
        ssl_certificate_key  /etc/ssl/key.pem;

        server_name docs.jexusmanager.com;
        return 301 https://docs.lextudio.com/jexusmanager$request_uri;
    }

    # phpmanager.xyz
    server {
        listen 80;
        listen [::]:80;
        listen 443 ssl;
        listen [::]:443 ssl;

        ssl_certificate      /etc/ssl/certificate.pem;
        ssl_certificate_key  /etc/ssl/key.pem;

        server_name phpmanager.xyz;
        return 301 https://www.phpmanager.xyz$request_uri;
    }

    server {
        listen 80;
        listen [::]:80;
        listen 443 ssl;
        listen [::]:443 ssl;

        ssl_certificate      /etc/ssl/certificate.pem;
        ssl_certificate_key  /etc/ssl/key.pem;

        server_name www.phpmanager.xyz;

        location /en/latest {
            return 301 https://docs.phpmanager.xyz;
        }

        location ~ /en/latest/(?<doc>.*) {
            return 301 https://docs.phpmanager.xyz/$doc;
        }

        location / {
            proxy_ssl_server_name on;
            proxy_pass            https://phpmanager.mystrikingly.com/;
            proxy_set_header      Host "phpmanager.mystrikingly.com";
        }
    }

    # docs.phpmanager.xyz
    server {
        listen 80;
        listen [::]:80;
        listen 443 ssl;
        listen [::]:443 ssl;

        ssl_certificate      /etc/ssl/certificate.pem;
        ssl_certificate_key  /etc/ssl/key.pem;

        server_name docs.phpmanager.xyz;
        return 301 https://docs.lextudio.com/phpmanager$request_uri;
    }

    # restructuredtext.net
    server {
        listen 80;
        listen [::]:80;
        listen 443 ssl;
        listen [::]:443 ssl;

        ssl_certificate      /etc/ssl/certificate.pem;
        ssl_certificate_key  /etc/ssl/key.pem;

        server_name restructuredtext.net;
        return 301 https://www.restructuredtext.net$request_uri;
    }

    server {
        listen 80;
        listen [::]:80;
        listen 443 ssl;
        listen [::]:443 ssl;

        ssl_certificate      /etc/ssl/certificate.pem;
        ssl_certificate_key  /etc/ssl/key.pem;

        server_name www.restructuredtext.net;

        location /en/latest {
            return 301 https://docs.restructuredtext.net;
        }

        location ~ /en/latest/(?<doc>.*) {
            return 301 https://docs.restructuredtext.net/$doc;
        }

        location / {
            proxy_ssl_server_name on;
            proxy_pass            https://restructuredtext.mystrikingly.com/;
            proxy_set_header      Host "restructuredtext.mystrikingly.com";
        }
    }

    # docs.restructuredtext.net
    server {
        listen 80;
        listen [::]:80;
        listen 443 ssl;
        listen [::]:443 ssl;

        ssl_certificate      /etc/ssl/certificate.pem;
        ssl_certificate_key  /etc/ssl/key.pem;

        server_name docs.restructuredtext.net;
        return 301 https://docs.lextudio.com/restructuredtext$request_uri;
    }

    # obfuscar.com
    server {
        listen 80;
        listen [::]:80;
        listen 443 ssl;
        listen [::]:443 ssl;

        ssl_certificate      /etc/ssl/certificate.pem;
        ssl_certificate_key  /etc/ssl/key.pem;

        server_name obfuscar.com;
        return 301 https://www.obfuscar.com$request_uri;
    }

    server {
        listen 80;
        listen [::]:80;
        listen 443 ssl;
        listen [::]:443 ssl;

        ssl_certificate      /etc/ssl/certificate.pem;
        ssl_certificate_key  /etc/ssl/key.pem;

        server_name www.obfuscar.com;

        location /en/latest {
            return 301 https://docs.lextudio.com/obfuscar/;
        }

        location ~ /en/latest/(?<doc>.*) {
            return 301 https://docs.lextudio.com/obfuscar/$doc;
        }

        location / {
            proxy_ssl_server_name on;
            proxy_pass            https://obfuscar2.mystrikingly.com/;
            proxy_set_header      Host "obfuscar2.mystrikingly.com";
        }
    }

    # docs.obfuscar.com
    server {
        listen 80;
        listen [::]:80;
        listen 443 ssl;
        listen [::]:443 ssl;

        ssl_certificate      /etc/ssl/certificate.pem;
        ssl_certificate_key  /etc/ssl/key.pem;

        server_name docs.obfuscar.com;
        return 301 https://docs.lextudio.com/obfuscar$request_uri;
    }

    # dotnet.fm
    server {
        listen 80;
        listen [::]:80;
        listen 443 ssl;
        listen [::]:443 ssl;

        ssl_certificate      /etc/ssl/certificate.pem;
        ssl_certificate_key  /etc/ssl/key.pem;

        server_name dotnet.fm;
        return 301 https://www.dotnet.fm$request_uri;
    }

    server {
        listen 80;
        listen [::]:80;
        listen 443 ssl;
        listen [::]:443 ssl;

        ssl_certificate      /etc/ssl/certificate.pem;
        ssl_certificate_key  /etc/ssl/key.pem;

        server_name www.dotnet.fm;

        location / {
            return 301 https://podcast.dotnet.family;
        }

        location /rss {
            proxy_ssl_server_name on;
            proxy_pass            https://feeds.acast.com/public/shows/dotnetfm;
            proxy_set_header      Host "feeds.acast.com";
        }

        location /feed.xml {
            proxy_ssl_server_name on;
            proxy_pass            https://feeds.acast.com/public/shows/dotnetfm;
            proxy_set_header      Host "feeds.acast.com";
        }
    }

    # podcast.dotnet.family
    server {
        listen 80;
        listen [::]:80;
        listen 443 ssl;
        listen [::]:443 ssl;

        ssl_certificate      /etc/ssl/certificate.pem;
        ssl_certificate_key  /etc/ssl/key.pem;

        server_name podcast.dotnet.family;

        location / {
            proxy_ssl_server_name on;
            proxy_pass            https://dotnetfm.mystrikingly.com/;
            proxy_set_header      Host "dotnetfm.mystrikingly.com";
        }
    }

    # scarborough.market
    server {
        listen 80;
        listen [::]:80;
        listen 443 ssl;
        listen [::]:443 ssl;

        ssl_certificate      /etc/ssl/certificate.pem;
        ssl_certificate_key  /etc/ssl/key.pem;

        server_name scarborough.market;
        return 301 https://www.scarborough.market$request_uri;
    }

    server {
        listen 80;
        listen [::]:80;
        listen 443 ssl;
        listen [::]:443 ssl;

        ssl_certificate      /etc/ssl/certificate.pem;
        ssl_certificate_key  /etc/ssl/key.pem;

        server_name www.scarborough.market;

        location / {
            proxy_ssl_server_name on;
            proxy_pass            https://project-roundhouse.mystrikingly.com/;
            proxy_set_header      Host "project-roundhouse.mystrikingly.com";
        }
    }

    # dotnet.lextudio.com
    server {
        listen 80;
        listen [::]:80;
        listen 443 ssl;
        listen [::]:443 ssl;

        ssl_certificate      /etc/ssl/certificate.pem;
        ssl_certificate_key  /etc/ssl/key.pem;

        server_name dotnet.lextudio.com;

        location / {
            proxy_ssl_server_name on;
            proxy_pass            https://dotnet.mysxl.cn/;
            proxy_set_header      Host "dotnet.mysxl.cn";
        }
    }

    # borland.lextudio.com
    server {
        listen 80;
        listen [::]:80;
        listen 443 ssl;
        listen [::]:443 ssl;

        ssl_certificate      /etc/ssl/certificate.pem;
        ssl_certificate_key  /etc/ssl/key.pem;

        server_name borland.lextudio.com;

        location / {
            proxy_ssl_server_name on;
            proxy_pass            https://borland.mysxl.cn/;
            proxy_set_header      Host "borland.mysxl.cn";
        }
    }

    # nianbiao.lextudio.com
    server {
        listen 80;
        listen [::]:80;
        listen 443 ssl;
        listen [::]:443 ssl;

        ssl_certificate      /etc/ssl/certificate.pem;
        ssl_certificate_key  /etc/ssl/key.pem;

        server_name nianbiao.lextudio.com;

        location / {
            proxy_ssl_server_name on;
            proxy_pass            https://corefx.mysxl.cn/;
            proxy_set_header      Host "corefx.mysxl.cn";
        }
    }

    # podcast.lextudio.com
    server {
        listen 80;
        listen [::]:80;
        listen 443 ssl;
        listen [::]:443 ssl;

        ssl_certificate      /etc/ssl/certificate.pem;
        ssl_certificate_key  /etc/ssl/key.pem;

        server_name podcast.lextudio.com;

        location / {
            proxy_ssl_server_name on;
            proxy_pass            https://podcast2018.mysxl.cn/;
            proxy_set_header      Host "podcast2018.mysxl.cn";
        }
    }

    # season1.dotnet.fm
    server {
        listen 80;
        listen [::]:80;
        listen 443 ssl;
        listen [::]:443 ssl;

        ssl_certificate      /etc/ssl/certificate.pem;
        ssl_certificate_key  /etc/ssl/key.pem;

        server_name season1.dotnet.fm;

        location / {
            proxy_ssl_server_name on;
            proxy_pass            https://season1.mysxl.cn/;
            proxy_set_header      Host "season1.mysxl.cn";
        }
    }

    # season2.dotnet.fm
    server {
        listen 80;
        listen [::]:80;
        listen 443 ssl;
        listen [::]:443 ssl;

        ssl_certificate      /etc/ssl/certificate.pem;
        ssl_certificate_key  /etc/ssl/key.pem;

        server_name season2.dotnet.fm;

        location / {
            proxy_ssl_server_name on;
            proxy_pass            https://season2.mysxl.cn/;
            proxy_set_header      Host "season2.mysxl.cn";
        }
    }

    # podcast.dotnet.fm
    server {
        listen 80;
        listen [::]:80;
        listen 443 ssl;
        listen [::]:443 ssl;

        ssl_certificate      /etc/ssl/certificate.pem;
        ssl_certificate_key  /etc/ssl/key.pem;

        server_name podcast.dotnet.fm;

        location / {
            proxy_ssl_server_name on;
            proxy_pass            https://podcast.mysxl.cn/;
            proxy_set_header      Host "podcast.mysxl.cn";
        }
    }

    # corefx.lextudio.com
    server {
        listen 80;
        listen [::]:80;
        listen 443 ssl;
        listen [::]:443 ssl;

        ssl_certificate      /etc/ssl/certificate.pem;
        ssl_certificate_key  /etc/ssl/key.pem;

        server_name corefx.lextudio.com;

        location / {
            proxy_ssl_server_name on;
            proxy_pass            https://corefx.mystrikingly.com/;
            proxy_set_header      Host "corefx.mystrikingly.com";
        }
    }

    # clubhouse.lextudio.com
    server {
        listen 80;
        listen [::]:80;
        listen 443 ssl;
        listen [::]:443 ssl;

        ssl_certificate      /etc/ssl/certificate.pem;
        ssl_certificate_key  /etc/ssl/key.pem;

        server_name clubhouse.lextudio.com;

        location / {
            proxy_ssl_server_name on;
            proxy_pass            https://clubhouse.mystrikingly.com/;
            proxy_set_header      Host "clubhouse.mystrikingly.com";
        }
    }

    # roundhouse.lextudio.com
    server {
        listen 80;
        listen [::]:80;
        listen 443 ssl;
        listen [::]:443 ssl;

        ssl_certificate      /etc/ssl/certificate.pem;
        ssl_certificate_key  /etc/ssl/key.pem;

        server_name roundhouse.lextudio.com;
        return 301 https://www.scarborough.market$request_uri;
    }

    # pysnmp.com
    server {
        listen 80;
        listen [::]:80;
        listen 443 ssl;
        listen [::]:443 ssl;

        ssl_certificate      /etc/ssl/certificate.pem;
        ssl_certificate_key  /etc/ssl/key.pem;

        server_name pysnmp.com;
        return 301 https://www.pysnmp.com$request_uri;
    }

    server {
        listen 80;
        listen [::]:80;
        listen 443 ssl;
        listen [::]:443 ssl;

        ssl_certificate      /etc/ssl/certificate.pem;
        ssl_certificate_key  /etc/ssl/key.pem;

        server_name www.pysnmp.com;

        rewrite ^(/.*/)index\.html(\?.*)?$ $1$2 permanent; # Cloudflare generates bad 308 to remove /index, so proactively remove index.html ahead.
        rewrite ^(/.*)\.html(\?.*)?$ $1$2 permanent; # Cloudflare generates bad 308 to remove .html, so proactively remove .html ahead.

        location /pysmi/ {
            return 301 https://docs.lextudio.com$request_uri;
        }

        location /pysnmp/ {
            return 301 https://docs.lextudio.com$request_uri;
        }

        location /snmpclitools/ {
            return 301 https://docs.lextudio.com$request_uri;
        }

        location /snmpfwd/ {
            return 301 https://docs.lextudio.com$request_uri;
        }

        location /snmpresponder/ {
            return 301 https://docs.lextudio.com$request_uri;
        }

        location /snmpsim/ {
            return 301 https://docs.lextudio.com$request_uri;
        }

        location /snmpsim-control-plane/ {
            return 301 https://docs.lextudio.com$request_uri;
        }

        location /snmpsim-data/ {
            return 301 https://docs.lextudio.com$request_uri;
        }

        location / {
            proxy_ssl_server_name on;
            proxy_pass            https://snmplabs-com.pages.dev/;
            proxy_set_header      Host "snmplabs-com.pages.dev";
        }
    }

    # hustmontreal.com
    server {
        listen 80;
        listen [::]:80;
        listen 443 ssl;
        listen [::]:443 ssl;

        ssl_certificate      /etc/ssl/certificate.pem;
        ssl_certificate_key  /etc/ssl/key.pem;

        server_name hustmontreal.com;
        return 301 https://www.hustmontreal.com$request_uri;
    }

    server {
        listen 80;
        listen [::]:80;
        listen 443 ssl;
        listen [::]:443 ssl;

        ssl_certificate      /etc/ssl/certificate.pem;
        ssl_certificate_key  /etc/ssl/key.pem;

        server_name www.hustmontreal.com;

        location / {
            proxy_ssl_server_name on;
            proxy_pass            https://hustmontreal2.mystrikingly.com/;
            proxy_set_header      Host "hustmontreal2.mystrikingly.com";
        }
    }

    # lextm.com
    server {
        listen 80;
        listen [::]:80;
        listen 443 ssl;
        listen [::]:443 ssl;

        ssl_certificate      /etc/ssl/certificate.pem;
        ssl_certificate_key  /etc/ssl/key.pem;

        server_name lextm.com www.lextm.com;
        return 301 https://www.lextudio.com$request_uri;
    }

    # bittoba.ca
    server {
        listen 80;
        listen [::]:80;
        listen 443 ssl;
        listen [::]:443 ssl;

        ssl_certificate      /etc/ssl/certificate.pem;
        ssl_certificate_key  /etc/ssl/key.pem;

        server_name bittoba.ca www.bittoba.ca;
        return 301 https://www.highscore.ai$request_uri;
    }

    # blog.lextudio.com
    server {
        listen 80;
        listen [::]:80;
        listen 443 ssl;
        listen [::]:443 ssl;

        ssl_certificate      /etc/ssl/certificate.pem;
        ssl_certificate_key  /etc/ssl/key.pem;

        server_name blog.lextudio.com;

        location ~ ^/tagged/(.*)$ {
            return 301 https://docs.lextudio.com/blog/tags/$1/;
        }

        location ~ ^/tag/(.*)$ {
            return 301 https://docs.lextudio.com/blog/tags/$1/;
        }

        location /archive {
            return 301 https://docs.lextudio.com/blog/archives/;
        }

        location / {
            return 301 https://docs.lextudio.com/blog$request_uri;
        }
    }

    # itas.pro
    server {
        listen 80;
        listen [::]:80;
        listen 443 ssl;
        listen [::]:443 ssl;

        ssl_certificate      /etc/ssl/certificate.pem;
        ssl_certificate_key  /etc/ssl/key.pem;

        server_name www.itas.pro;
        return 301 https://itas.pro$request_uri;
    }

    server {
        listen 80;
        listen [::]:80;
        listen 443 ssl;
        listen [::]:443 ssl;

        ssl_certificate      /etc/ssl/certificate.pem;
        ssl_certificate_key  /etc/ssl/key.pem;

        server_name itas.pro;

        location / {
            proxy_ssl_server_name on;
            proxy_pass            https://itaspro.mystrikingly.com/;
            proxy_set_header      Host "itaspro.mystrikingly.com";
        }
    }

    # abigail.kids
    server {
        listen 80;
        listen [::]:80;
        listen 443 ssl;
        listen [::]:443 ssl;

        ssl_certificate      /etc/ssl/certificate.pem;
        ssl_certificate_key  /etc/ssl/key.pem;

        server_name www.abigail.kids;
        return 301 https://abigail.kids$request_uri;
    }

    server {
        listen 80;
        listen [::]:80;
        listen 443 ssl;
        listen [::]:443 ssl;

        ssl_certificate      /etc/ssl/certificate.pem;
        ssl_certificate_key  /etc/ssl/key.pem;

        server_name abigail.kids;

        location / {
            proxy_ssl_server_name on;
            proxy_pass            https://site-2972930-4887-5564.mystrikingly.com/;
            proxy_set_header      Host "site-2972930-4887-5564.mystrikingly.com";
        }
    }

    # Mar 02, 2023
    server {
        listen 80;
        listen [::]:80;
        listen 443 ssl;
        listen [::]:443 ssl;

        ssl_certificate      /etc/ssl/certificate.pem;
        ssl_certificate_key  /etc/ssl/key.pem;

        server_name 230302cntoronto.dotnet.family;

        location / {
            proxy_ssl_server_name on;
            proxy_pass https://dotnetgta20230302simplified.mystrikingly.com/;
            proxy_set_header Host "dotnetgta20230302simplified.mystrikingly.com";
        }
    }

    server {
        listen 80;
        listen [::]:80;
        listen 443 ssl;
        listen [::]:443 ssl;

        ssl_certificate      /etc/ssl/certificate.pem;
        ssl_certificate_key  /etc/ssl/key.pem;

        server_name 230302twtoronto.dotnet.family;

        location / {
            proxy_ssl_server_name on;
            proxy_pass https://dotnetgta20230302traditional.mystrikingly.com/;
            proxy_set_header Host "dotnetgta20230302traditional.mystrikingly.com";
        }
    }
}
